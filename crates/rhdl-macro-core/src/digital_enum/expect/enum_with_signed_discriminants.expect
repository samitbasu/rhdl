impl core :: marker :: Copy for Test { } impl rhdl :: core :: Digital for Test { const BITS : usize = 5usize + rhdl :: const_max ! (0_usize , 0_usize , 0_usize , 0_usize) ; fn static_kind () -> rhdl :: core :: Kind { rhdl :: core :: Kind :: make_enum (concat ! (module_path ! () , "::" , stringify ! (Test)) , [rhdl :: core :: Kind :: make_variant (stringify ! (A) , rhdl :: core :: Kind :: Empty , 1i64) , rhdl :: core :: Kind :: make_variant (stringify ! (B) , rhdl :: core :: Kind :: Empty , 9i64) , rhdl :: core :: Kind :: make_variant (stringify ! (C) , rhdl :: core :: Kind :: Empty , - 8i64) , rhdl :: core :: Kind :: make_variant (stringify ! (Unknown) , rhdl :: core :: Kind :: Empty , - 7i64)] . into () , rhdl :: core :: Kind :: make_discriminant_layout (5usize , rhdl :: core :: DiscriminantAlignment :: Msb , rhdl :: core :: DiscriminantType :: Signed)) } fn bin (self) -> Vec < rhdl :: core :: BitX > { let mut raw = match self { Self :: A => { rhdl :: core :: bitx_vec (& rhdl :: bits :: signed :: < U5 > (1i64 as i128) . to_bools ()) } Self :: B => { rhdl :: core :: bitx_vec (& rhdl :: bits :: signed :: < U5 > (9i64 as i128) . to_bools ()) } Self :: C => { rhdl :: core :: bitx_vec (& rhdl :: bits :: signed :: < U5 > (- 8i64 as i128) . to_bools ()) } Self :: Unknown => { rhdl :: core :: bitx_vec (& rhdl :: bits :: signed :: < U5 > (- 7i64 as i128) . to_bools ()) } } ; raw . resize (Self :: BITS , rhdl :: core :: BitX :: Zero) ; rhdl :: core :: move_nbits_to_msb (& raw , 5usize) } fn discriminant (self) -> rhdl :: core :: TypedBits { match self { Self :: A => { rhdl :: bits :: signed :: < U5 > (1i128) . typed_bits () } Self :: B => { rhdl :: bits :: signed :: < U5 > (9i128) . typed_bits () } Self :: C => { rhdl :: bits :: signed :: < U5 > (- 8i128) . typed_bits () } Self :: Unknown => { rhdl :: bits :: signed :: < U5 > (- 7i128) . typed_bits () } } } fn variant_kind (self) -> rhdl :: core :: Kind { match self { Self :: A => { rhdl :: core :: Kind :: Empty } Self :: B => { rhdl :: core :: Kind :: Empty } Self :: C => { rhdl :: core :: Kind :: Empty } Self :: Unknown => { rhdl :: core :: Kind :: Empty } } } fn dont_care () -> Self { < Self as Default > :: default () } }
[{"Start":{"CodeBlock":{"Fenced":"rust"}}},{"Text":"use rhdl::prelude::*;\n\n#[derive(Circuit, Clone)]\npub struct OneCounterDivided {}\n\nimpl CircuitIO for OneCounterDivided {\n    type I = Signal<b8, Red>;\n    type O = Signal<b4, Red>;\n    type Kernel = one_counter_divided;\n}\n\nimpl CircuitDQ for OneCounterDivided {\n    type D = ();\n    type Q = ();\n}\n\n#[kernel]\npub fn one_counter_divided(input: Signal<b8, Red>, _q: ()) -> (Signal<b4, Red>, ()) {\n    let input = input.val();\n    let lsbs = input.resize::<U4>();\n    let msbs = (input >> 4).resize::<U4>();\n    let count =\n        crate::helper::count_ones::<U4, U4>(lsbs) + crate::helper::count_ones::<U4, U4>(msbs);\n    (signal(count), ())\n}"},{"End":"CodeBlock"}]
[{"Start":{"CodeBlock":{"Fenced":"rust"}}},{"Text":"use rhdl::prelude::*;\n\npub mod helper;\n\n#[derive(Circuit, Clone)]\npub struct OneCounter {}\n\nimpl CircuitIO for OneCounter {\n    type I = Signal<b8, Red>;\n    type O = Signal<b4, Red>;\n    type Kernel = one_counter;\n}\n\nimpl CircuitDQ for OneCounter {\n    type D = ();\n    type Q = ();\n}\n\n#[kernel]\npub fn one_counter(input: Signal<b8, Red>, _q: ()) -> (Signal<b4, Red>, ()) {\n    let input = input.val();\n    let count = helper::count_ones::<8, 4>(input);\n    (signal(count), ())\n}"},{"End":"CodeBlock"}]
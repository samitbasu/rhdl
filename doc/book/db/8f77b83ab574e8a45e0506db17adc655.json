[{"Start":{"CodeBlock":{"Fenced":"rust"}}},{"Text":"use rhdl::prelude::*;\n#[kernel]\nfn kernel_2(a: (b4, b4), b: b4) -> b4 {\n    trace(\"a\", &a);\n    trace(\"b\", &b);\n    let output = a.0 + b;\n    trace(\"output\", &output);\n    output\n}\n\n#[test]\nfn test_kernel_2() {\n    let a_set = [(0, 1), (4, 2), (15, 3), (7, 4), (4, 5), (3, 6)];\n    let b_set = [0, 3, 5, 7, 9, 11];\n    let inputs = a_set\n        .iter()\n        .zip(b_set.iter())\n        .map(|(&a, &b)| ((b4::from(a.0), b4::from(a.1)), b4::from(b)));\n    let guard = trace_init_db();\n    for (ndx, (a, b)) in inputs.enumerate() {\n        trace_time((ndx * 100) as u64);\n        let _ = kernel_2(a, b);\n    }\n    let options = SvgOptions::default();\n    let svg = guard.take().dump_svg(0..=600, &options);\n    std::fs::write(\"tracing_demo_2.svg\", svg.to_string()).unwrap();\n}"},{"End":"CodeBlock"}]
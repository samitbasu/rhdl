[{"Start":{"CodeBlock":{"Fenced":"rust"}}},{"Text":"#[kernel]\npub fn count_ones<const N: usize, const M: usize>(a: Bits::<N>) -> Bits::<M> \nwhere rhdl::bits::W<N>: BitWidth,\n      W<M> : BitWidth\n{\n    let mut count = bits::<M>(0);\n    for i in 0..N {\n        if a & (1 << i) != 0 {\n            count += 1;\n        }\n    }\n    count\n}\n\n#[kernel]\npub fn kernel(a: b8) -> b4 {\n    count_ones::<8,4>(a)\n}\n"},{"End":"CodeBlock"}]